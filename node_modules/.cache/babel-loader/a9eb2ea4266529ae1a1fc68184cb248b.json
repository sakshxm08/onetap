{"ast":null,"code":"var _jsxFileName = \"/Users/sakshamgambhir/Downloads/olx-main/src/Components/ViewMoreAllPosts/AllPosts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { AllPostContext } from \"../../contextStore/AllPostContext\";\nimport Pagination from \"../Pagination/Pagination\";\nimport PostCards from \"../PostCards/PostCards\";\nimport \"./allposts.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AllPosts() {\n  _s();\n\n  const {\n    allPost\n  } = useContext(AllPostContext); // let displayAllPosts = allPost.map((product, index) => {\n  //   return (\n  //     <div className=\"all-post-card\">\n  //       {\" \"}\n  //       <PostCards product={product} index={index} />{\" \"}\n  //     </div>\n  //   );\n  // });\n\n  let length = allPost.length; //if user refresh the whole page context will be empty so we want to redirect the user to the home page\n\n  const history = useHistory(); //pagination logic and implementation will start here\n\n  let [currentPage, setCurrentPage] = useState(1);\n  let itemsPerPage = 8;\n  let indexOfLastDish = currentPage * itemsPerPage;\n  let indexOfFirstDish = indexOfLastDish - itemsPerPage;\n  let showTheseItems = allPost.slice(indexOfFirstDish, indexOfLastDish);\n  let displayThesePosts = showTheseItems.map((product, index) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-post-card\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(PostCards, {\n        product: product,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), \" \"]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"display-all-parent\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-allpost\",\n        children: displayThesePosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        setCurrentPage: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this) : history.push(\"/\")\n  }, void 0, false);\n}\n\n_s(AllPosts, \"2NEt238vN4J8sotmaYZ1NEy78D0=\", false, function () {\n  return [useHistory];\n});\n\n_c = AllPosts;\nexport default AllPosts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllPosts\");","map":{"version":3,"sources":["/Users/sakshamgambhir/Downloads/olx-main/src/Components/ViewMoreAllPosts/AllPosts.js"],"names":["React","useContext","useState","useHistory","AllPostContext","Pagination","PostCards","AllPosts","allPost","length","history","currentPage","setCurrentPage","itemsPerPage","indexOfLastDish","indexOfFirstDish","showTheseItems","slice","displayThesePosts","map","product","index","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,cAAT,QAA+B,mCAA/B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAO,gBAAP;;;;AACA,SAASC,QAAT,GAAoB;AAAA;;AAClB,QAAM;AAAEC,IAAAA;AAAF,MAAcP,UAAU,CAACG,cAAD,CAA9B,CADkB,CAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIK,MAAM,GAAGD,OAAO,CAACC,MAArB,CAXkB,CAWW;;AAC7B,QAAMC,OAAO,GAAGP,UAAU,EAA1B,CAZkB,CAclB;;AACA,MAAI,CAACQ,WAAD,EAAaC,cAAb,IAA6BV,QAAQ,CAAC,CAAD,CAAzC;AACA,MAAIW,YAAY,GAAC,CAAjB;AACA,MAAIC,eAAe,GAACH,WAAW,GAACE,YAAhC;AACA,MAAIE,gBAAgB,GAACD,eAAe,GAACD,YAArC;AACA,MAAIG,cAAc,GAACR,OAAO,CAACS,KAAR,CAAcF,gBAAd,EAA+BD,eAA/B,CAAnB;AAEA,MAAII,iBAAiB,GAAGF,cAAc,CAACG,GAAf,CAAmB,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAC7D,wBACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,iBACG,GADH,eAEE,QAAC,SAAD;AAAW,QAAA,OAAO,EAAED,OAApB;AAA6B,QAAA,KAAK,EAAEC;AAApC;AAAA;AAAA;AAAA;AAAA,cAFF,EAEgD,GAFhD;AAAA,OAAoCA,KAApC;AAAA;AAAA;AAAA;AAAA,YADF;AAMD,GAPuB,CAAxB;AAQA,sBACE;AAAA,cACGZ,MAAM,KAAK,CAAX,gBACC;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,kBAAoCS;AAApC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,UAAD;AAAY,QAAA,cAAc,EAAEN;AAA5B;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAMCF,OAAO,CAACY,IAAR,CAAa,GAAb;AAPJ,mBADF;AAYD;;GAzCQf,Q;UAYSJ,U;;;KAZTI,Q;AA2CT,eAAeA,QAAf","sourcesContent":["import React, { useContext,useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { AllPostContext } from \"../../contextStore/AllPostContext\";\nimport Pagination from \"../Pagination/Pagination\";\nimport PostCards from \"../PostCards/PostCards\";\nimport \"./allposts.css\";\nfunction AllPosts() {\n  const { allPost } = useContext(AllPostContext);\n  // let displayAllPosts = allPost.map((product, index) => {\n  //   return (\n  //     <div className=\"all-post-card\">\n  //       {\" \"}\n  //       <PostCards product={product} index={index} />{\" \"}\n  //     </div>\n  //   );\n  // });\n  \n  let length = allPost.length; //if user refresh the whole page context will be empty so we want to redirect the user to the home page\n  const history = useHistory();\n\n  //pagination logic and implementation will start here\n  let [currentPage,setCurrentPage]=useState(1)\n  let itemsPerPage=8\n  let indexOfLastDish=currentPage*itemsPerPage\n  let indexOfFirstDish=indexOfLastDish-itemsPerPage\n  let showTheseItems=allPost.slice(indexOfFirstDish,indexOfLastDish)\n\n  let displayThesePosts = showTheseItems.map((product, index) => {\n    return (\n      <div className=\"all-post-card\" key={index}>\n        {\" \"}\n        <PostCards product={product} index={index} />{\" \"}\n      </div>\n    );\n  });\n  return (\n    <>\n      {length !== 0 ? (\n        <div className=\"display-all-parent\">\n          <div className=\"container-allpost\">{displayThesePosts}</div>\n          <Pagination setCurrentPage={setCurrentPage}/>\n        </div>\n      ) : (\n        history.push(\"/\")\n      )}\n    </>\n  );\n}\n\nexport default AllPosts;\n"]},"metadata":{},"sourceType":"module"}